---
title: Vim学习”
date: 2021-02-25 10:45:17
tags:
---
## 第一级 - 存活

| 快捷键 | 命令详情 |
| --- | --- |
| `i` | Insert 模式，按 `esc` 回到 Normal 模式 |
| `x` | 删除当前光标所在的一个字符 |
| `:wq` | 存盘 + 退出 |
| `dd` | 删除当前行，并把当前行存到剪贴板里 |
| `p` | 粘贴剪贴板 |
| `:help <command>` | 显示相关命令帮助，退出帮助需要输入 `:q` |

在 VIM 的 Normal 模式下，所有的键都是功能键。不清楚自己在什么模式下，就多按几下`ecs`

## 第二级 - 感觉良好
#### 各种插入模式

| 快捷键 | 命令详情 |
| --- | --- |
| `a`  | 在光标后插入 |
| `o` | 在当前行后插入一个新行 |
| `O` | 在当前行插入一个新行 |
| `cw` | 替换从光标所在位置后到一个单次结尾的字符 |

#### 简单的移动光标

| 快捷键 | 命令详情 |
| --- | --- |
| `0` | 数字零，到行头 |
| ` ^` | 到本行第一个不是 blank 字符的位置 |
| `$` | 到本行行尾 |
| `g_` | 到本行最后一个不是 blank 字符的位置 |
| `/pattern` | 搜索 `pattern`  的字符串，如有多个匹配，按 `n` 键到下一个 |

所谓 blank 字符就是空格，tab，换行，回车等

#### 拷贝／粘贴

| 快捷键 | 命令详情 |
| --- | --- |
| `p` | 粘贴 |
| `yy` | 拷贝到当前行，相当于 `ddp` |

#### Undo／Redo

| 快捷键 | 命令详情 |
| --- | --- |
| `u` | undo |
| `<C-r>` | redo |

####  打开／保存／退出／改变文件

| 快捷键 | 命令详情 |
| --- | --- |
|`:e <path/to/file>` | 打开一个文件 |
|`:w` | 存盘 |
| `:saveas <path/to/file>` | 另存为 `<path/to/file>` |
| `:x` 或 `ZZ`  或 `:wq` | 保存并退出，`:x` 表示仅在需要时保存，ZZ 不需要输入冒号并回车 |
| `:q!` | 退出不保存，`:q!`  强行退出所有正在编辑的文件，就算别的文件有更改 |
| `:bn` 或 `:bp` | 可以同时打开很多文件，使用这两个文件来切换上一个或下一个文件（:n 比较好使） |
#### 第三级 - 更好、更快、更强
| 快捷键 | 命令详情  |
| --- | --- |
| `.` | 可以重复上一次的命令 |
| `N<command>` | 重复某个命令 N 次 |
| N`G` | 到第 N 行 |
| `gg` | 到第一行|
| `G` | 到最后一行 |
| `%` | 匹配括号移动，包括 `(`，`{`，`[` 。需要吧光标先移动到括号上 |
| `*` 和 `#` | 匹配光标当前所在的单词，移动光标到上一个或下一个 |
| `w` | 到下一个功能的开头 |
| `e` | 到下一个单词的结尾 |

1. 如果你认为单词是默认的方式，那么就用小写的 w 和 e。默认上来说，一个单词由字母，数字和下划线组成。（程序变量）
2. 如果你认为单词是由 blank 字符分隔，那么你需要大写的 E 和 W。（程序语句）

你一定要记住光标的移动，因为很多命令都可以和这些移动光标的命令连用。很多命令都可以如下来干：

```
<start position><command><end position>
```
例如 `0y$` 命令意味着：
1. `0` 先到行头
2. `y` 从这里开始拷贝
3. `$` 拷贝到本行最后一个字符

例如 `ye` 从当前位置拷贝到本单词的最后一个字符。
例如 `y2/foo` 来拷贝两个“foo”之间的字符串。
还有很多事件不一定要你按 `y` 才会拷贝，下面的命令也会被拷贝：

| 快捷键 | 命令详情 |
| --- | --- |
| `d` | 删除 |
| `v` | 可视化的选择 |
| `gU` | 变大写 |
| `gu` | 变小写 |
| `...` | 等等 |

可视化选择是一个很有意思的命令，你可以先按 `v` 然后移动光标，你就会看到文本被选择，然后你可以 `d` 也可 `y` ，也可以变大写等。

## 第四级 - Vim 超能力
#### 在当前行上移动光标

| 快捷键 | 命令详情 |
| --- | --- |
| `0` | 到行头 |
| `^` | 到本行的第一个非 blank 字符的位置 |
| `$` | 到行尾 |
| `g_` | 到本行最后一个非 blank 字符的位置 |
| `fa` | 到下一个为 a 的字符处，a可以改变为其他字符 |
| `t,` | 到，前的第一个字符，逗号可以变为其他字符 |
| `3fa` | 在当前行查找第三个出现的 a |
| `dt"` | 删除所有内容，直到遇到双引号 |

`F` 和 `T` ；`f` 和 `t` 一样，只不过是相反方向。

#### 区块选择
在 visual 模式下，这些命令很强大，其命令格式为：
```
<action>a<object> 和 <action>i<object>
```
* action 可以是任何命令，如 `d` （删除）， `y` （拷贝），`v` （可见视图式选择）
* object 可能是：`w` 一个单词，`W` 一个以空格为分隔的单词，`s` 一个句子，`p` 一个段落。也可以是一个特别的字符：`"`、 `'`、 `)`、 `}`、 `]`。

假设你有一个字符串 (map (+) ("foo")).而光标键在第一个 o 的位置。

| 快捷键 | 命令详情 |
| --- | --- |
| `vi"` | 选择 foo |
| `va"` | 选择 "foo" |
| `vi)` | 选择 "foo" |
| `va)` | 选择 ("foo") |
| `v2i)` | 选择 map (+) ("foo") |
| `v2a)` | 选择 map (+) ("foo") |

#### 块操作
典型操作：
```
0 <C-v> <C-d> I-- [ESC]
```
操作流程解析：

| 快捷键 | 命令详情 |
| --- | --- |
| `^` | 到行头 |
| `<C-v>` | 开始块操作 |
| `<C-d>` | 向下移动（也可以是 `hjkl` 来移动光标，也可以使用 `%`  ） |
| `I-- [ESC]` | I 是插入，插入 `-- ` ，按 `ECS`键 |


#### 分屏操作
| 快捷键 | 命令详情 |
| --- | --- |
| `:vs` | 横向分屏 |
| `:sp` | 纵向分屏 |